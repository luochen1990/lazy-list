{"version":3,"sources":["/source/node_modules/browserify/node_modules/browser-pack/_prelude.js","global.js","/source/src/global.coffee","/source/src/lazy.coffee"],"names":["f","exports","module","define","amd","g","window","global","self","this","__lazy","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"k","lazy","v","./lazy",2,"this_module","slice","arg","Iterator","LazyList","Symbol","all","any","best","brk","cartProd","concat","cons","drop","dropWhile","enumerate","filter","foldl","foreach","iterate","join","last","list","map","naturals","nil","permutation_gen","primes","random_gen","range","ranged_random_gen","ref","repeat","reverse","scanl","streak","take","takeWhile","zip","zipWith","iterator","toString","it","next","value","done","args","arguments","stop","start","step","x","p","Infinity","arr","Array","keys","Object","init","status","hash","Math","sin","floor","opts","seed","random","next_permutation","m","ref1","ls","json","xs","c","iter","ok","finished","j","prevx","ws","xs_unused","got","buf","push","shift","xss","xs_iter","len1","iters","results","apply","apply_vector","inc_vector","limits","len_minus_1","vec","space","len","get_value","inc","results1","better","all_not","callback","fruit","defineProperties","break","writable","configurable","enumerable"],"mappings":"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","file":"global.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.__lazy = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\nvar k, lazy, v;\n\nlazy = require('./lazy');\n\nfor (k in lazy) {\n  v = lazy[k];\n  global[k] = v;\n}\n\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./lazy\":2}],2:[function(require,module,exports){\nvar this_module,\n  slice = [].slice;\n\nthis_module = function(arg) {\n  var Iterator, LazyList, Symbol, all, any, best, brk, cartProd, concat, cons, drop, dropWhile, enumerate, filter, foldl, foreach, iterate, join, last, lazy, length, list, map, naturals, nil, permutation_gen, primes, random_gen, range, ranged_random_gen, ref, repeat, reverse, scanl, streak, take, takeWhile, zip, zipWith;\n  Symbol = arg.Symbol;\n  LazyList = function(f) {\n    f[Symbol.iterator] = function() {\n      return f();\n    };\n    f.toString = function() {\n      return \"LazyList\";\n    };\n    return f;\n  };\n  nil = LazyList(function() {\n    return nil;\n  });\n  nil.toString = function() {\n    return 'nil';\n  };\n  Iterator = function(it) {\n    it.next = function() {\n      var r;\n      r = it();\n      return {\n        value: r,\n        done: r === nil\n      };\n    };\n    it.toString = function() {\n      return \"Iterator\";\n    };\n    return it;\n  };\n  naturals = LazyList(function() {\n    var i;\n    i = -1;\n    return Iterator(function() {\n      return ++i;\n    });\n  });\n  range = function() {\n    var args;\n    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n    if (args.length === 0) {\n      return naturals;\n    } else if (args.length === 1) {\n      return LazyList(function() {\n        var i, stop;\n        stop = args[0];\n        i = -1;\n        return Iterator(function() {\n          if (++i < stop) {\n            return i;\n          } else {\n            return nil;\n          }\n        });\n      });\n    } else if (args.length === 2) {\n      return LazyList(function() {\n        var i, start, stop;\n        start = args[0], stop = args[1];\n        if (start < stop) {\n          i = start - 1;\n          return Iterator(function() {\n            if (++i < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        } else {\n          i = start + 1;\n          return Iterator(function() {\n            if (--i > stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        }\n      });\n    } else {\n      return LazyList(function() {\n        var i, start, step, stop;\n        start = args[0], stop = args[1], step = args[2];\n        if (stop !== start && (stop - start) * step < 0) {\n          throw 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE';\n        }\n        i = start - step;\n        if (start < stop) {\n          return Iterator(function() {\n            if ((i += step) < stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        } else {\n          return Iterator(function() {\n            if ((i += step) > stop) {\n              return i;\n            } else {\n              return nil;\n            }\n          });\n        }\n      });\n    }\n  };\n  primes = LazyList(function() {\n    return filter(function(x) {\n      return all(function(p) {\n        return x % p !== 0;\n      })(takeWhile(function(p) {\n        return p * p <= x;\n      })(range(2, Infinity)));\n    })(range(2, Infinity))();\n  });\n  lazy = function(arr) {\n    if (typeof arr === 'function') {\n      if (arr[Symbol.iterator] != null) {\n        return arr;\n      } else {\n        return LazyList(arr);\n      }\n    } else if (arr[Symbol.iterator] != null) {\n      return LazyList(function() {\n        var it;\n        it = arr[Symbol.iterator]();\n        return Iterator(function() {\n          var r;\n          r = it.next();\n          if (r.done) {\n            return nil;\n          } else {\n            return r.value;\n          }\n        });\n      });\n    } else {\n      return LazyList(function() {\n        var i;\n        i = -1;\n        return Iterator(function() {\n          i += 1;\n          if (i < arr.length) {\n            return arr[i];\n          } else {\n            return nil;\n          }\n        });\n      });\n    }\n  };\n  enumerate = function(it) {\n    if ((it[Symbol.iterator] != null) || it instanceof Array) {\n      return zip(naturals, it);\n    } else {\n      return LazyList(function() {\n        var i, keys;\n        keys = Object.keys(it);\n        i = -1;\n        return Iterator(function() {\n          var k;\n          if (++i < keys.length) {\n            return [(k = keys[i]), it[k]];\n          } else {\n            return nil;\n          }\n        });\n      });\n    }\n  };\n  repeat = function(x) {\n    return LazyList(function() {\n      return Iterator(function() {\n        return x;\n      });\n    });\n  };\n  iterate = function(next, init) {\n    return LazyList(function() {\n      var status;\n      status = init;\n      return Iterator(function() {\n        var last;\n        last = status;\n        status = next(status);\n        return last;\n      });\n    });\n  };\n  random_gen = (function() {\n    var hash;\n    hash = function(x) {\n      x = Math.sin(x) * 1e4;\n      return x - Math.floor(x);\n    };\n    return function(opts) {\n      var ref, seed;\n      seed = hash((ref = opts != null ? opts.seed : void 0) != null ? ref : Math.random());\n      return iterate(hash, seed);\n    };\n  })();\n  ranged_random_gen = function(range, opts) {\n    var ref, seed;\n    seed = (ref = opts != null ? opts.seed : void 0) != null ? ref : Math.random();\n    return map(function(x) {\n      return Math.floor(x * range);\n    })(random_gen({\n      seed: seed\n    }));\n  };\n  permutation_gen = (function() {\n    var next_permutation;\n    next_permutation = function(x) {\n      var l, m, r, ref, ref1;\n      x = x.slice(0);\n      l = x.length - 1;\n      while (l >= 1 && x[l] <= x[l - 1]) {\n        --l;\n      }\n      if (l !== 0) {\n        m = x.length - 1;\n        while (m > l - 1 && x[m] <= x[l - 1]) {\n          --m;\n        }\n        ref = [x[l - 1], x[m]], x[m] = ref[0], x[l - 1] = ref[1];\n      }\n      r = x.length - 1;\n      while (l < r) {\n        ref1 = [x[r], x[l]], x[l] = ref1[0], x[r] = ref1[1];\n        ++l;\n        --r;\n      }\n      return x;\n    };\n    return function(arr) {\n      if (arr.length === 0) {\n        return nil;\n      } else {\n        return cons(arr.slice(0))(takeWhile(function(ls) {\n          return json(ls) !== json(arr);\n        })(drop(1)(iterate(next_permutation, arr))));\n      }\n    };\n  })();\n  take = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var c, iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        c = -1;\n        return Iterator(function() {\n          if (++c < n) {\n            return iter();\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  takeWhile = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil && ok(x)) {\n            return x;\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  drop = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var finished, i, iter, j, ref;\n        iter = lazy(xs)[Symbol.iterator]();\n        finished = false;\n        for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n          finished || (finished = iter() === nil);\n          if (finished) {\n            break;\n          }\n        }\n        if (finished) {\n          return function() {\n            return nil;\n          };\n        } else {\n          return iter;\n        }\n      });\n    };\n  };\n  dropWhile = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter, x;\n        iter = lazy(xs)[Symbol.iterator]();\n        while (ok(x = iter()) && x !== nil) {\n          null;\n        }\n        return Iterator(function() {\n          var prevx, ref;\n          ref = [x, iter()], prevx = ref[0], x = ref[1];\n          return prevx;\n        });\n      });\n    };\n  };\n  cons = function(x) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = null;\n        return Iterator(function() {\n          if (iter === null) {\n            iter = lazy(xs)[Symbol.iterator]();\n            return x;\n          } else {\n            return iter();\n          }\n        });\n      });\n    };\n  };\n  concat = function(ws) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter, xs_unused;\n        xs_unused = true;\n        iter = lazy(ws)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if (xs_unused) {\n            if ((x = iter()) !== nil) {\n              return x;\n            } else {\n              iter = lazy(xs)[Symbol.iterator]();\n              xs_unused = false;\n              return iter();\n            }\n          } else {\n            return iter();\n          }\n        });\n      });\n    };\n  };\n  map = function(f) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) !== nil) {\n            return f(x);\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  };\n  filter = function(ok) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var x;\n          while (!ok(x = iter()) && x !== nil) {\n            null;\n          }\n          return x;\n        });\n      });\n    };\n  };\n  scanl = function(f, r) {\n    return function(xs) {\n      return LazyList(function() {\n        var iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        return Iterator(function() {\n          var got, x;\n          got = r;\n          r = (x = iter()) !== nil ? f(r, x) : nil;\n          return got;\n        });\n      });\n    };\n  };\n  streak = function(n) {\n    return function(xs) {\n      return LazyList(function() {\n        var buf, iter;\n        iter = lazy(xs)[Symbol.iterator]();\n        buf = [];\n        return Iterator(function() {\n          var x;\n          if ((x = iter()) === nil) {\n            return nil;\n          }\n          buf.push(x);\n          if (buf.length > n) {\n            buf.shift(1);\n          }\n          return buf.slice(0);\n        });\n      });\n    };\n  };\n  reverse = function(xs) {\n    var arr;\n    arr = list(lazy(xs));\n    return lazy(arr.reverse());\n  };\n  join = function(xss) {\n    return LazyList(function() {\n      var iter, xs, xs_iter;\n      xs_iter = lazy(xss)[Symbol.iterator]();\n      xs = xs_iter();\n      iter = lazy(xs)[Symbol.iterator]();\n      return Iterator(function() {\n        var x;\n        if ((x = iter()) !== nil) {\n          return x;\n        } else if ((xs = xs_iter()) !== nil) {\n          iter = lazy(xs)[Symbol.iterator]();\n          return iter();\n        } else {\n          return nil;\n        }\n      });\n    });\n  };\n  ref = (function() {\n    var finished, zip, zipWith;\n    finished = function(arr) {\n      var j, len1, x;\n      for (j = 0, len1 = arr.length; j < len1; j++) {\n        x = arr[j];\n        if (x === nil) {\n          return true;\n        }\n      }\n      return false;\n    };\n    zip = function() {\n      var xss;\n      xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return LazyList(function() {\n        var iters, xs;\n        iters = (function() {\n          var j, len1, results;\n          results = [];\n          for (j = 0, len1 = xss.length; j < len1; j++) {\n            xs = xss[j];\n            results.push(lazy(xs)[Symbol.iterator]());\n          }\n          return results;\n        })();\n        return Iterator(function() {\n          var iter, next;\n          next = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = iters.length; j < len1; j++) {\n              iter = iters[j];\n              results.push(iter());\n            }\n            return results;\n          })();\n          if (finished(next)) {\n            return nil;\n          } else {\n            return next;\n          }\n        });\n      });\n    };\n    zipWith = function(f) {\n      return function() {\n        var xss;\n        xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n        return LazyList(function() {\n          var iters, xs;\n          iters = (function() {\n            var j, len1, results;\n            results = [];\n            for (j = 0, len1 = xss.length; j < len1; j++) {\n              xs = xss[j];\n              results.push(lazy(xs)[Symbol.iterator]());\n            }\n            return results;\n          })();\n          return Iterator(function() {\n            var iter, next;\n            next = (function() {\n              var j, len1, results;\n              results = [];\n              for (j = 0, len1 = iters.length; j < len1; j++) {\n                iter = iters[j];\n                results.push(iter());\n              }\n              return results;\n            })();\n            if (finished(next)) {\n              return nil;\n            } else {\n              return f.apply(null, next);\n            }\n          });\n        });\n      };\n    };\n    return {\n      zip: zip,\n      zipWith: zipWith\n    };\n  })(), zip = ref.zip, zipWith = ref.zipWith;\n  cartProd = (function() {\n    var apply_vector, inc_vector;\n    inc_vector = function(limits) {\n      var len_minus_1;\n      len_minus_1 = limits.length - 1;\n      return function(vec) {\n        var i;\n        i = len_minus_1;\n        while (!(++vec[i] < limits[i] || i <= 0)) {\n          vec[i--] = 0;\n        }\n        return vec;\n      };\n    };\n    apply_vector = function(space) {\n      var len;\n      len = space.length;\n      return function(vec) {\n        var i, j, ref1, results;\n        results = [];\n        for (i = j = 0, ref1 = len; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n          results.push(space[i][vec[i]]);\n        }\n        return results;\n      };\n    };\n    return function() {\n      var xss;\n      xss = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n      return LazyList(function() {\n        var get_value, i, inc, j, len, len1, limits, v, xs;\n        xss = (function() {\n          var j, len1, results;\n          results = [];\n          for (j = 0, len1 = xss.length; j < len1; j++) {\n            xs = xss[j];\n            results.push(list(xs));\n          }\n          return results;\n        })();\n        limits = (function() {\n          var j, ref1, results;\n          results = [];\n          for (i = j = 0, ref1 = xss.length; 0 <= ref1 ? j < ref1 : j > ref1; i = 0 <= ref1 ? ++j : --j) {\n            results.push(xss[i].length);\n          }\n          return results;\n        })();\n        for (j = 0, len1 = limits.length; j < len1; j++) {\n          len = limits[j];\n          if (len === 0) {\n            return nil;\n          }\n        }\n        inc = inc_vector(limits);\n        get_value = apply_vector(xss);\n        v = (function() {\n          var o, ref1, results;\n          results = [];\n          for (i = o = 0, ref1 = xss.length; 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {\n            results.push(0);\n          }\n          return results;\n        })();\n        return Iterator(function() {\n          var r;\n          if (v[0] < limits[0]) {\n            r = get_value(v);\n            inc(v);\n            return r;\n          } else {\n            return nil;\n          }\n        });\n      });\n    };\n  })();\n  list = function(xs) {\n    var it, n, results, results1, x;\n    if (xs instanceof Array) {\n      return xs;\n    } else if (typeof xs === 'function') {\n      it = xs[Symbol.iterator]();\n      results = [];\n      while ((x = it()) !== nil) {\n        results.push(x);\n      }\n      return results;\n    } else if (xs[Symbol.iterator] != null) {\n      it = lazy(xs)[Symbol.iterator]();\n      results1 = [];\n      while ((x = it()) !== nil) {\n        results1.push(x);\n      }\n      return results1;\n    } else if (typeof xs === 'number') {\n      n = xs;\n      return function(xs) {\n        return list(take(n)(xs));\n      };\n    } else {\n      throw Error('list(xs): xs is neither LazyList nor Array');\n    }\n  };\n  last = function(xs) {\n    var iter, r, ref1, x;\n    if (xs[Symbol.iterator] == null) {\n      return (ref1 = xs[xs.length - 1]) != null ? ref1 : nil;\n    } else {\n      iter = lazy(xs)[Symbol.iterator]();\n      r = nil;\n      while ((x = iter()) !== nil) {\n        r = x;\n      }\n      return r;\n    }\n  };\n  length = function(xs) {\n    var iter, r, x;\n    if (xs[Symbol.iterator] == null) {\n      return xs.length;\n    } else {\n      iter = lazy(xs)[Symbol.iterator]();\n      r = 0;\n      while ((x = iter()) !== nil) {\n        ++r;\n      }\n      return r;\n    }\n  };\n  foldl = function(f, init) {\n    return function(xs) {\n      var iter, r, x;\n      r = init;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        r = f(r, x);\n      }\n      return r;\n    };\n  };\n  best = function(better) {\n    return function(xs) {\n      var it, iter, r;\n      iter = lazy(xs)[Symbol.iterator]();\n      if ((r = iter()) === nil) {\n        return null;\n      }\n      while ((it = iter()) !== nil) {\n        r = better(it, r) ? it : r;\n      }\n      return r;\n    };\n  };\n  all = function(f) {\n    if (typeof f !== 'function') {\n      f = (function(x) {\n        return x === f;\n      });\n    }\n    return function(xs) {\n      var iter, x;\n      iter = lazy(xs)[Symbol.iterator]();\n      while ((x = iter()) !== nil) {\n        if (!f(x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  };\n  any = function(f) {\n    var all_not;\n    all_not = all(function(x) {\n      return !f(x);\n    });\n    return function(xs) {\n      return !(all_not(xs));\n    };\n  };\n  brk = function() {\n    return brk;\n  };\n  brk.toString = function() {\n    return 'foreach.break';\n  };\n  foreach = function(xs, callback, fruit) {\n    var iter, x;\n    iter = lazy(xs)[Symbol.iterator]();\n    while ((x = iter()) !== nil) {\n      if (callback(x, fruit) === brk) {\n        break;\n      }\n    }\n    return fruit;\n  };\n  Object.defineProperties(foreach, {\n    \"break\": {\n      writable: false,\n      configurable: false,\n      enumerable: false,\n      value: brk\n    }\n  });\n  return {\n    nil: nil,\n    LazyList: LazyList,\n    Iterator: Iterator,\n    Symbol: Symbol,\n    naturals: naturals,\n    range: range,\n    primes: primes,\n    lazy: lazy,\n    enumerate: enumerate,\n    repeat: repeat,\n    iterate: iterate,\n    random_gen: random_gen,\n    ranged_random_gen: ranged_random_gen,\n    permutation_gen: permutation_gen,\n    cons: cons,\n    concat: concat,\n    map: map,\n    filter: filter,\n    take: take,\n    takeWhile: takeWhile,\n    drop: drop,\n    dropWhile: dropWhile,\n    scanl: scanl,\n    streak: streak,\n    reverse: reverse,\n    join: join,\n    zip: zip,\n    zipWith: zipWith,\n    cartProd: cartProd,\n    list: list,\n    last: last,\n    length: length,\n    foldl: foldl,\n    best: best,\n    all: all,\n    any: any,\n    foreach: foreach\n  };\n};\n\nmodule.exports = this_module({\n  Symbol: typeof Symbol !== \"undefined\" && Symbol !== null ? Symbol : {\n    iterator: 'iter'\n  }\n});\n\n\n},{}]},{},[1])(1)\n});\n\n\n//# sourceMappingURL=global.js.map","lazy = require('./lazy')\nglobal[k] = v for k, v of lazy\n","this_module = ({Symbol}) ->\n\n\t# LazyList definition: nil, LazyList, Iterator,\n\n\tLazyList = (f) -> # construct a LazyList from a function.\n\t\tf[Symbol.iterator] = -> f()\n\t\tf.toString = -> \"LazyList\"\n\t\treturn f\n\n\tnil = LazyList -> nil # xs is empty <==> xs is nil or xs() is nil or xs()() is nil... <==> last xs is nil\n\tnil.toString = -> 'nil'\n\n\tIterator = (it) -> # construct an Iterator(which is a function with status) from a function.\n\t\tit.next = ->\n\t\t\tr = it()\n\t\t\t{value: r, done: r == nil}\n\t\tit.toString = -> \"Iterator\"\n\t\treturn it\n\n\t# LazyList constants: naturals, range, primes,\n\n\tnaturals =\n\t\tLazyList ->\n\t\t\ti = -1\n\t\t\tIterator ->\n\t\t\t\t++i\n\n\trange = (args...) ->\n\t\tif args.length == 0\n\t\t\tnaturals\n\t\telse if args.length == 1\n\t\t\tLazyList ->\n\t\t\t\t[stop] = args\n\t\t\t\ti = -1\n\t\t\t\tIterator ->\n\t\t\t\t\tif ++i < stop then i else nil\n\t\telse if args.length == 2\n\t\t\tLazyList ->\n\t\t\t\t[start, stop] = args\n\t\t\t\tif start < stop\n\t\t\t\t\ti = start - 1\n\t\t\t\t\tIterator ->\n\t\t\t\t\t\tif ++i < stop then i else nil\n\t\t\t\telse\n\t\t\t\t\ti = start + 1\n\t\t\t\t\tIterator ->\n\t\t\t\t\t\tif --i > stop then i else nil\n\t\telse\n\t\t\tLazyList ->\n\t\t\t\t[start, stop, step] = args\n\t\t\t\tthrow 'ERR IN range(): YOU ARE CREATING AN UNLIMITTED RANGE' if stop != start and (stop - start) * step < 0\n\t\t\t\ti = start - step\n\t\t\t\tif start < stop\n\t\t\t\t\tIterator ->\n\t\t\t\t\t\tif (i += step) < stop then i else nil\n\t\t\t\telse\n\t\t\t\t\tIterator ->\n\t\t\t\t\t\tif (i += step) > stop then i else nil\n\n\tprimes = LazyList -> do\n\t\tfilter((x) -> all((p) -> x % p != 0) takeWhile((p) -> p * p <= x) range(2, Infinity)) range(2, Infinity)\n\n\t# LazyList producers: lazy, enumerate, iterate, random_gen, ranged_random_gen, permutation_gen,\n\n\tlazy = (arr) -> #make a LazyList from Function/LazyList/ES6Lazy/Array/String\n\t\tif typeof arr is 'function'\n\t\t\tif arr[Symbol.iterator]? #arr is LazyList\n\t\t\t\tarr\n\t\t\telse #arr is Function\n\t\t\t\tLazyList arr\n\t\telse if arr[Symbol.iterator]? #arr is ES6Lazy\n\t\t\tLazyList ->\n\t\t\t\tit = arr[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tr = it.next()\n\t\t\t\t\tif r.done then nil else r.value\n\t\telse #arr is Array or String\n\t\t\tLazyList ->\n\t\t\t\ti = -1\n\t\t\t\tIterator ->\n\t\t\t\t\ti += 1\n\t\t\t\t\tif i < arr.length\n\t\t\t\t\t\tarr[i]\n\t\t\t\t\telse\n\t\t\t\t\t\tnil\n\n\tenumerate = (it) -> # Iterator with index(with key for object)\n\t\tif it[Symbol.iterator]? or it instanceof Array\n\t\t\tzip(naturals, it)\n\t\telse\n\t\t\tLazyList ->\n\t\t\t\tkeys = Object.keys(it)\n\t\t\t\ti = -1\n\t\t\t\tIterator ->\n\t\t\t\t\tif ++i < keys.length then [(k = keys[i]), it[k]] else nil\n\n\trepeat = (x) -> # repeat x\n\t\tLazyList ->\n\t\t\tIterator ->\n\t\t\t\tx\n\n\titerate = (next, init) -> #function next should not change it's argument\n\t\tLazyList ->\n\t\t\tstatus = init\n\t\t\tIterator ->\n\t\t\t\tlast = status\n\t\t\t\tstatus = next status\n\t\t\t\treturn last\n\n\trandom_gen = do ->\n\t\thash = (x) ->\n\t\t\tx = Math.sin(x) * 1e4\n\t\t\tx - Math.floor(x)\n\t\t(opts) ->\n\t\t\tseed = hash(opts?.seed ? Math.random())\n\t\t\titerate hash, seed\n\n\tranged_random_gen = (range, opts) ->\n\t\tseed = opts?.seed ? Math.random()\n\t\tmap((x) -> Math.floor(x * range)) random_gen(seed: seed)\n\n\tpermutation_gen = do ->\n\t\tnext_permutation = (x) ->\n\t\t\tx = x[...]\n\t\t\tl = x.length - 1\n\t\t\t--l while l >= 1 and x[l] <= x[l - 1]\n\n\t\t\tif (l != 0)\n\t\t\t\tm = x.length - 1\n\t\t\t\t--m while m > l - 1 and x[m] <= x[l - 1]\n\t\t\t\t[x[m], x[l - 1]] = [x[l - 1], x[m]]\n\n\t\t\tr = x.length - 1\n\t\t\twhile(l < r)\n\t\t\t\t[x[l], x[r]] = [x[r], x[l]]\n\t\t\t\t++l\n\t\t\t\t--r\n\t\t\treturn x\n\n\t\t(arr) ->\n\t\t\tif arr.length == 0 then nil else\n\t\t\t\tcons(arr[...]) takeWhile((ls) -> json(ls) != json(arr)) drop(1) iterate(next_permutation, arr)\n\n\t# LazyList decorators: take, takeWhile, drop, dropWhile, cons, concat, map, filter, scanl, streak, reverse,\n\n\ttake = (n) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tc = -1\n\t\t\t\tIterator ->\n\t\t\t\t\tif ++c < n then iter() else nil\n\n\ttakeWhile = (ok) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tif (x = iter()) isnt nil and ok(x) then x else nil\n\n\tdrop = (n) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tfinished = false\n\t\t\t\t(finished or= (iter() is nil); break if finished) for i in [0...n]\n\t\t\t\tif finished then (-> nil) else iter\n\n\tdropWhile = (ok) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tnull while ok(x = iter()) and x isnt nil\n\t\t\t\tIterator ->\n\t\t\t\t\t[prevx, x] = [x, iter()]\n\t\t\t\t\treturn prevx\n\n\tcons = (x) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = null\n\t\t\t\tIterator ->\n\t\t\t\t\tif iter is null\n\t\t\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\t\t\treturn x\n\t\t\t\t\telse\n\t\t\t\t\t\treturn iter()\n\n\tconcat = (ws) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\txs_unused = true\n\t\t\t\titer = lazy(ws)[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tif xs_unused\n\t\t\t\t\t\tif (x = iter()) isnt nil\n\t\t\t\t\t\t\treturn x\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\t\t\t\txs_unused = false\n\t\t\t\t\t\t\treturn iter()\n\t\t\t\t\telse\n\t\t\t\t\t\treturn iter()\n\n\tmap = (f) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tif (x = iter()) isnt nil then f(x) else nil\n\n\tfilter = (ok) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tnull while not ok(x = iter()) and x isnt nil\n\t\t\t\t\treturn x\n\n\tscanl = (f, r) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tIterator ->\n\t\t\t\t\tgot = r\n\t\t\t\t\tr = if (x = iter()) isnt nil then f(r, x) else nil\n\t\t\t\t\treturn got\n\n\tstreak = (n) ->\n\t\t(xs) ->\n\t\t\tLazyList ->\n\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\tbuf = []\n\t\t\t\tIterator ->\n\t\t\t\t\treturn nil if (x = iter()) is nil\n\t\t\t\t\tbuf.push(x)\n\t\t\t\t\tbuf.shift(1) if buf.length > n\n\t\t\t\t\treturn buf[...]\n\n\treverse = (xs) ->\n\t\tarr = list lazy(xs)\n\t\treturn lazy arr.reverse()\n\n\t# LazyList combiners: join, zip, zipWith, cartProd,\n\n\tjoin = (xss) ->\n\t\tLazyList ->\n\t\t\txs_iter = lazy(xss)[Symbol.iterator]()\n\t\t\txs = xs_iter()\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\tIterator ->\n\t\t\t\tif (x = iter()) isnt nil\n\t\t\t\t\treturn x\n\t\t\t\telse if (xs = xs_iter()) isnt nil\n\t\t\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\t\t\treturn iter()\n\t\t\t\telse\n\t\t\t\t\treturn nil\n\n\t{zip, zipWith} = do ->\n\t\tfinished = (arr) ->\n\t\t\tfor x in arr\n\t\t\t\treturn true if x is nil\n\t\t\treturn false\n\n\t\tzip = (xss...) ->\n\t\t\tLazyList ->\n\t\t\t\titers = (lazy(xs)[Symbol.iterator]() for xs in xss)\n\t\t\t\tIterator ->\n\t\t\t\t\tnext = (iter() for iter in iters)\n\t\t\t\t\tif finished(next)\n\t\t\t\t\t\treturn nil\n\t\t\t\t\telse\n\t\t\t\t\t\treturn next\n\n\t\tzipWith = (f) -> (xss...) ->\n\t\t\tLazyList ->\n\t\t\t\titers = (lazy(xs)[Symbol.iterator]() for xs in xss)\n\t\t\t\tIterator ->\n\t\t\t\t\tnext = (iter() for iter in iters)\n\t\t\t\t\tif finished(next)\n\t\t\t\t\t\treturn nil\n\t\t\t\t\telse\n\t\t\t\t\t\treturn f(next...)\n\n\t\treturn {zip, zipWith}\n\n\tcartProd = do -> # cartesian product\n\t\tinc_vector = (limits) ->\n\t\t\tlen_minus_1 = limits.length - 1\n\t\t\t(vec) ->\n\t\t\t\ti = len_minus_1\n\t\t\t\tvec[i--] = 0 until ++vec[i] < limits[i] or i <= 0\n\t\t\t\treturn vec\n\n\t\tapply_vector = (space) ->\n\t\t\tlen = space.length\n\t\t\t(vec) ->\n\t\t\t\t(space[i][vec[i]] for i in [0...len])\n\n\t\t(xss...) ->\n\t\t\tLazyList ->\n\t\t\t\txss = (list(xs) for xs in xss)\n\t\t\t\tlimits = (xss[i].length for i in [0...xss.length])\n\t\t\t\t(return nil if len is 0) for len in limits\n\t\t\t\tinc = inc_vector(limits)\n\t\t\t\tget_value = apply_vector(xss)\n\t\t\t\tv = (0 for i in [0...xss.length])\n\t\t\t\tIterator ->\n\t\t\t\t\tif v[0] < limits[0] then (r = get_value v; inc v; r) else nil\n\n\t# LazyList consumers: list, last, length, foldl, best, all, any, foreach,\n\n\tlist = (xs) -> #force list elements of the LazyList to get an array\n\t\tif xs instanceof Array\n\t\t\txs\n\t\telse if typeof xs is 'function'\n\t\t\tit = xs[Symbol.iterator]()\n\t\t\t(x while (x = it()) isnt nil)\n\t\telse if xs[Symbol.iterator]?\n\t\t\tit = lazy(xs)[Symbol.iterator]()\n\t\t\t(x while (x = it()) isnt nil)\n\t\telse if typeof xs is 'number'\n\t\t\tn = xs\n\t\t\t(xs) -> list take(n) xs\n\t\telse\n\t\t\tthrow Error 'list(xs): xs is neither LazyList nor Array'\n\n\tlast = (xs) -> #returns nil if xs is empty\n\t\tif not xs[Symbol.iterator]? then xs[xs.length - 1] ? nil else\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\tr = nil\n\t\t\tr = x while (x = iter()) isnt nil\n\t\t\treturn r\n\n\tlength = (xs) ->\n\t\tif not xs[Symbol.iterator]? then xs.length else\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\tr = 0\n\t\t\t++r while (x = iter()) isnt nil\n\t\t\treturn r\n\n\tfoldl = (f, init) ->\n\t\t(xs) ->\n\t\t\tr = init\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\tr = f(r, x) while (x = iter()) isnt nil\n\t\t\treturn r\n\n\tbest = (better) ->\n\t\t(xs) ->\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\treturn null if (r = iter()) is nil\n\t\t\twhile (it = iter()) isnt nil\n\t\t\t\tr = if better(it, r) then it else r\n\t\t\treturn r\n\n\tall = (f) ->\n\t\tf = ((x) -> x is f) if typeof(f) isnt 'function'\n\t\t(xs) ->\n\t\t\titer = lazy(xs)[Symbol.iterator]()\n\t\t\twhile (x = iter()) isnt nil\n\t\t\t\treturn false if not f(x)\n\t\t\treturn true\n\n\tany = (f) ->\n\t\tall_not = all (x) -> not f(x)\n\t\t(xs) -> not (all_not xs)\n\n\tbrk = -> brk\n\tbrk.toString = -> 'foreach.break'\n\n\tforeach = (xs, callback, fruit) ->\n\t\titer = lazy(xs)[Symbol.iterator]()\n\t\twhile (x = iter()) isnt nil\n\t\t\tbreak if callback(x, fruit) is brk\n\t\tfruit\n\n\tObject.defineProperties foreach,\n\t\tbreak:\n\t\t\twritable: false\n\t\t\tconfigurable: false\n\t\t\tenumerable: false\n\t\t\tvalue: brk\n\n\treturn {\n\t\t# LazyList definition\n\t\tnil, LazyList, Iterator, Symbol,\n\n\t\t# LazyList constants\n\t\tnaturals, range, primes,\n\n\t\t# LazyList producers\n\t\tlazy, enumerate, repeat, iterate, random_gen, ranged_random_gen, permutation_gen,\n\n\t\t# LazyList decorators\n\t\tcons, concat, map, filter, take, takeWhile, drop, dropWhile, scanl, streak, reverse,\n\n\t\t# LazyList combiners\n\t\tjoin, zip, zipWith, cartProd,\n\n\t\t# LazyList consumers\n\t\tlist, last, length, foldl, best, all, any, foreach,\n\t}\n\nmodule.exports = this_module\n\tSymbol: Symbol ? {iterator: 'iter'}\n\n"],"sourceRoot":"/source/"}